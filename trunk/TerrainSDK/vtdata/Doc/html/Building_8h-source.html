<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Building.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.9.1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>Building.h</h1><div class="fragment"><pre>00001 <font class="comment">//</font>
00002 <font class="comment">// Building.h</font>
00003 <font class="comment">//</font>
00004 <font class="comment">// Implements the vtBuilding class which represents a single built structure.</font>
00005 <font class="comment">//</font>
00006 <font class="comment">// Copyright (c) 2001 Virtual Terrain Project</font>
00007 <font class="comment">// Free for all uses, see license.txt for details.</font>
00008 <font class="comment">//</font>
00009 
00010 <font class="preprocessor">#ifndef BUILDINGH</font>
00011 <font class="preprocessor"></font><font class="preprocessor">#define BUILDINGH</font>
00012 <font class="preprocessor"></font>
00013 <font class="preprocessor">#include &lt;stdio.h&gt;</font>
00014 <font class="preprocessor">#include "MathTypes.h"</font>
00015 
00017 
00018 <font class="keyword">enum</font> WallType
00019 {
00020     WALL_FLAT, WALL_SIDING, WALL_GLASS
00021 };
00022 <font class="keyword">enum</font> RoofType
00023 {
00024     ROOF_FLAT, ROOF_SHED, ROOF_GABLE, ROOF_HIP, NUM_ROOFTYPES
00025 };
00026 
00027 <font class="keyword">enum</font> BldShape
00028 {
00029     SHAPE_RECTANGLE,
00030     SHAPE_CIRCLE,
00031     SHAPE_POLY,
00032     NUM_BLDSHAPES
00033 };
00034 
00035 <font class="keyword">enum</font> BldColor
00036 {
00037     BLD_BASIC,
00038     BLD_ROOF,
00039     BLD_MOULDING
00040 };
00041 
00042 <font class="keyword">class </font>vtWall
00043 {
00044 <font class="keyword">public</font>:
00045     <font class="keywordtype">void</font> Set(<font class="keywordtype">int</font> iDoors, <font class="keywordtype">int</font> iWindows, WallType m_Type);
00046 
00047     <font class="keywordtype">int</font>     m_iDoors;
00048     <font class="keywordtype">int</font>     m_iWindows;
00049     WallType m_Type;
00050 };
00051 
00052 <font class="preprocessor">#define MAX_WALLS   24  // the largest number of walls</font>
00053 <font class="preprocessor"></font>                        <font class="comment">// (largest number of points in a poly-shaped building)</font>
00054 
00055 <font class="keyword">class </font>vtStory
00056 {
00057 <font class="keyword">public</font>:
00058     vtStory();
00059     vtStory(<font class="keyword">const</font> vtStory &amp;from)<font class="keyword"> </font>{ *<font class="keyword">this</font> = from; }
00060     ~vtStory();
00061 
00062     <font class="comment">// assignment operator</font>
00063     vtStory &amp;operator=(<font class="keyword">const</font> vtStory &amp;v);
00064 
00065     <font class="keywordtype">void</font> DeleteWalls();
00066     <font class="keywordtype">void</font> SetWalls(<font class="keywordtype">int</font> n);
00067 
00068     Array&lt;vtWall *&gt; m_Wall;
00069 <font class="comment">//  float   m_fHeight;  // TODO</font>
00070 };
00071 
00072 <font class="keyword">class </font>vtBuilding
00073 {
00074 <font class="keyword">public</font>:
00075     vtBuilding();
00076     ~vtBuilding();
00077 
00078     <font class="comment">// copy</font>
00079     vtBuilding &amp;operator=(<font class="keyword">const</font> vtBuilding &amp;v);
00080 
00081     <font class="comment">// center of the building</font>
00082     <font class="keywordtype">void</font> SetLocation(<font class="keywordtype">double</font> x, <font class="keywordtype">double</font> y);
00083     <font class="keywordtype">void</font> SetLocation(<font class="keyword">const</font> DPoint2 &amp;p)<font class="keyword"> </font>{ m_EarthPos = p; }
00084     DPoint2 GetLocation()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> m_EarthPos; }
00085 
00086     <font class="comment">//depth will be set to the greater of the 2 values.</font>
00087     <font class="keywordtype">void</font> SetRectangle(<font class="keywordtype">float</font> fWidth, <font class="keywordtype">float</font> fDepth);
00088     <font class="keywordtype">void</font> GetRectangle(<font class="keywordtype">float</font> &amp;fWidth, <font class="keywordtype">float</font> &amp;fDepth)<font class="keyword"> const</font>
00089 <font class="keyword">    </font>{
00090         fWidth = m_fWidth;
00091         fDepth = m_fDepth;
00092     }
00093     <font class="keywordtype">void</font> SetRadius(<font class="keywordtype">float</font> fRad)<font class="keyword"> </font>{ m_fRadius = fRad; }
00094     <font class="keywordtype">float</font> GetRadius()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> m_fRadius; }
00095 
00096     <font class="keywordtype">void</font> SetFootprint(DLine2 &amp;dl);
00097     DLine2 &amp;GetFootprint()<font class="keyword"> </font>{ <font class="keywordflow">return</font> m_Footprint; }
00098 
00099     <font class="keywordtype">void</font> SetColor(BldColor which, RGBi col);
00100     RGBi GetColor(BldColor which);
00101 
00102     <font class="keywordtype">void</font> SetRotation(<font class="keywordtype">float</font> fRadians);
00103     <font class="keywordtype">void</font> GetRotation(<font class="keywordtype">float</font> &amp;fRadians)<font class="keyword"> const </font>{ fRadians = m_fRotation; }
00104 
00105     <font class="keywordtype">void</font> SetShape(BldShape s)<font class="keyword"> </font>{ m_BldShape = s; }
00106     BldShape GetShape()<font class="keyword"> </font>{ <font class="keywordflow">return</font> m_BldShape; }
00107 
00108     <font class="keywordtype">void</font> SetStories(<font class="keywordtype">int</font> i);
00109     <font class="keywordtype">int</font> GetStories()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> m_Story.GetSize(); }
00110 
00111     <font class="keywordtype">bool</font> GetExtents(DRECT &amp;rect);
00112     <font class="keywordtype">void</font> SetCenterFromPoly();
00113     <font class="keywordtype">void</font> Offset(DPoint2 &amp;p);
00114     <font class="keywordtype">void</font> RectToPoly();
00115 
00116     <font class="keywordtype">void</font> WriteXML(FILE *fp, <font class="keywordtype">bool</font> bDegrees);
00117 
00118     <font class="keywordtype">void</font> RebuildWalls();
00119 
00120     RoofType    m_RoofType;
00121     <font class="keywordtype">bool</font>        m_bMoulding;
00122     <font class="keywordtype">bool</font>        m_bElevated;
00123 
00124 <font class="keyword">protected</font>:
00125     <font class="comment">//colors</font>
00126     RGBi        m_Color;            <font class="comment">// overall building color</font>
00127     RGBi        m_RoofColor;        <font class="comment">// roof color</font>
00128     RGBi        m_MouldingColor;    <font class="comment">// color of trim</font>
00129 
00130     <font class="comment">// information about each story</font>
00131     Array&lt;vtStory *&gt; m_Story;
00132 
00133     <font class="comment">// fields that affect placement</font>
00134     DPoint2     m_EarthPos;         <font class="comment">// location of building center</font>
00135     <font class="keywordtype">float</font>       m_fRotation;        <font class="comment">// in Radians</font>
00136 
00137     <font class="comment">// fields that affect size</font>
00138     BldShape    m_BldShape;
00139 
00140     <font class="comment">// size of base (for rectanguloid buildings)</font>
00141     <font class="keywordtype">float</font>       m_fWidth, m_fDepth; <font class="comment">// in meters</font>
00142 
00143     <font class="comment">// radius (for cylindroid buildings)</font>
00144     <font class="keywordtype">float</font>       m_fRadius;
00145 
00146     <font class="comment">// footprint (for polygonal buildings)</font>
00147     DLine2      m_Footprint;
00148 
00149 <font class="keyword">private</font>:
00150     <font class="keywordtype">void</font> DeleteStories();
00151 };
00152 
00153 <font class="keyword">typedef</font> vtBuilding *vtBuildingPtr;
00154 
00155 
00157 
00158 <font class="preprocessor">#endif // BUILDINGH</font>
</font></pre></div><hr><address><small>Generated at Sun Oct 7 23:42:35 2001 for vtdata library by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.9.1 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
